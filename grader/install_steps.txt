Installation steps:

0. Update apt: sudo apt-get update
1. Clone the repository (git clone https://github.com/espr1t/action.git).
2. Install python3, pip3, g++, java:
2.1. Install Python3 and PIP3 (currently version 3.6):
    sudo apt-get install python3 && sudo apt-get install pip3
2.2. Install G++ (currently version 5.4):
    sudo apt-get install gcc
2.3. Install Java JDK (currently version 11):
    sudo add-apt-repository ppa:openjdk-r/ppa && sudo apt-get update && sudo apt install -y openjdk-11-jdk
2.4. (Optional) You may need to set Java 11 as the default
2.4.1. Check the current Java
    java -version
2.4.2. If not 11.*, run the following command and select the appropriate choice:
    sudo update-alternatives --config java
3. Install the project's requirements:
    pip3 install -r requirements.txt
4. (Optional) Set the port on which the web server will run
    open action/grader/server.py and change port='5000' to port='<whatever_you_want>'.
5. Allow the port on which the server will run
5.1. Install ufw (may be unnecessary):
    sudo apt-get install ufw
5.2. Use ufw to allow the port (change if not using the default port 5000):
    sudo ufw allow 5000
6. Install Docker
6.1. Remove old versions:
    sudo apt-get remove docker docker-engine docker.io containerd runc
6.2. Install packages so apt can use repositories over HTTPS:
    sudo apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common
6.3. Add Docker's official GPG key:
    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
6.4. Select Docker's stable repository:
    sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
6.5. Update apt to use the new repository:
    sudo apt-get update
6.6. Install Docker CE:
    sudo apt-get install docker-ce docker-ce-cli containerd.io
6.7. Configure Docker to start at system boot:
    sudo systemctl enable docker
6.8. Add the user(s) to the docker group so they can access the docker engine
    sudo usermod -a -G docker $USER
6.9. Build the docker image for the sandbox (the grader will automatically spin up containers from this image):
    cd action/grader/docker && docker build --tag=action_sandbox --file action_sandbox.docker .
6.10 Return back to the root directory:
    cd ../../..
7. Install PDF printing utility (https://wkhtmltopdf.org)
7.1. Download the installation package:
    wget https://downloads.wkhtmltopdf.org/0.12/0.12.5/wkhtmltox_0.12.5-1.xenial_amd64.deb
7.2. Install it:
    sudo apt install -y ./wkhtmltox_0.12.5-1.xenial_amd64.deb
7.3. And remove the now obsolete installation package:
    rm ./wkhtmltox_0.12.5-1.xenial_amd64.deb
7.4. (optional) Install fonts:
    sudo cp action/grader/fonts/* /usr/local/share/fonts

Finally, run the service as root:
    sudo python3 action/grader/server.py
Or make it run automatically on OS load:
    1.1. Run "crontab -e" to edit the list of cronjobs
    1.2. Add "@reboot python3 /home/grader/action/grader/server.py" (with correct path to server.py)
#    1.3. Run "update-rc.d cron defaults" (may not be needed)
